name: salesforce-revoke-session
description: Revoke all sessions for a user in Salesforce

# Input parameters for web form generation
inputs:
  username:
    type: text
    description: Salesforce username to revoke sessions for
    required: true
    validation:
      min: 1
      max: 255

  apiVersion:
    type: text
    description: Salesforce API version to use
    required: false
    default: "v61.0"
    validation:
      min: 1
      max: 20

# Required secrets (configured per tenant)
secrets:
  SALESFORCE_ACCESS_TOKEN:
    description: OAuth access token for Salesforce API authentication

# Required environment variables
environment:
  SALESFORCE_INSTANCE_URL:
    description: Salesforce instance URL (e.g., https://mycompany.salesforce.com)

# Expected output structure
outputs:
  status:
    type: text
    description: Operation result (success, failed, recovered, etc.)

  username:
    type: text
    description: The username for which sessions were revoked

  userId:
    type: text
    description: The Salesforce user ID

  sessionsRevoked:
    type: number
    description: Number of sessions that were revoked

  processed_at:
    type: datetime
    description: When the operation completed (ISO 8601)